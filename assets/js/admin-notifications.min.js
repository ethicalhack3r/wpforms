"use strict";var WPFormsAdminNotifications=window.WPFormsAdminNotifications||function(i){var r={$notifications:i("#wpforms-notifications"),$nextButton:i("#wpforms-notifications .navigation .next"),$prevButton:i("#wpforms-notifications .navigation .prev"),$adminBarCounter:i("#wp-admin-bar-wpforms-menu .wpforms-menu-notification-counter"),$adminBarMenuItem:i("#wp-admin-bar-wpforms-notifications")},o={init:function(){i(o.ready)},ready:function(){o.updateNavigation(),o.events()},events:function(){r.$notifications.on("click",".dismiss",o.dismiss).on("click",".next",o.navNext).on("click",".prev",o.navPrev)},dismiss:function(e){if(0!==r.$currentMessage.length){var n=parseInt(r.$adminBarCounter.text(),10);1<n?(--n,r.$adminBarCounter.html("<span>"+n+"</span>")):(r.$adminBarCounter.remove(),r.$adminBarMenuItem.remove());var s=r.$nextMessage.length<1?r.$prevMessage:r.$nextMessage,t=r.$currentMessage.data("message-id");0===s.length?r.$notifications.remove():(r.$currentMessage.remove(),s.addClass("current"),o.updateNavigation());var a={action:"wpforms_notification_dismiss",nonce:wpforms_admin.nonce,id:t};i.post(wpforms_admin.ajax_url,a,function(e){e.success||WPFormsAdmin.debug(e)}).fail(function(e,n,s){WPFormsAdmin.debug(e.responseText)})}},navNext:function(e){r.$nextButton.hasClass("disabled")||(r.$currentMessage.removeClass("current"),r.$nextMessage.addClass("current"),o.updateNavigation())},navPrev:function(e){r.$prevButton.hasClass("disabled")||(r.$currentMessage.removeClass("current"),r.$prevMessage.addClass("current"),o.updateNavigation())},updateNavigation:function(){r.$currentMessage=r.$notifications.find(".message.current"),r.$nextMessage=r.$currentMessage.next(".message"),r.$prevMessage=r.$currentMessage.prev(".message"),0===r.$nextMessage.length?r.$nextButton.addClass("disabled"):r.$nextButton.removeClass("disabled"),0===r.$prevMessage.length?r.$prevButton.addClass("disabled"):r.$prevButton.removeClass("disabled")}};return o}((document,window,jQuery));WPFormsAdminNotifications.init();